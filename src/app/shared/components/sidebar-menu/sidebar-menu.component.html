<!-- Toggle Button -->
<button class="sidebar-toggle" (click)="toggleSidebar()" [attr.aria-expanded]="isOpen()" aria-label="Toggle menu">
  <span class="toggle-icon">
    <span class="line"></span>
    <span class="line"></span>
    <span class="line"></span>
  </span>
</button>

<div class="sidebar-overlay" [class.open]="isOpen()" (click)="toggleSidebar()"></div>

<aside class="sidebar" [class.open]="isOpen()">
  <nav class="sidebar-nav">
    <ul class="menu-list">
      @for (item of menuItems; track item.label) {
        <li class="menu-item">
          <button class="menu-button" (click)="toggleSubmenu(item.label)" [class.expanded]="isSubmenuExpanded(item.label)">
            <span class="menu-icon">
              @if (item.icon.startsWith("assets/")) {
                <img [src]="item.icon" [alt]="item.label" class="game-logo" />
              } @else {
                {{ item.icon }}
              }
            </span>
            <span class="menu-label">{{ item.label }}</span>
            @if (item.submenu) {
              <span class="chevron">â€º</span>
            }
          </button>

          <!-- Submenu -->
          @if (item.submenu && isSubmenuExpanded(item.label)) {
            <ul class="submenu">
              @for (subitem of item.submenu; track subitem.label) {
                <li class="submenu-item">
                  @if (subitem.url) {
                    <button (click)="onSubmenuItemClick(subitem)" class="submenu-link">
                      {{ subitem.label }}
                    </button>
                  } @else {
                    <a [href]="subitem.route" class="submenu-link">
                      {{ subitem.label }}
                    </a>
                  }
                </li>
              }
            </ul>
          }
        </li>
      }
    </ul>
  </nav>
</aside>
